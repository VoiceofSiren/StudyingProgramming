# async, await
<br/>

### 이 글의 목적
    - 지금까지 Promise 객체와 fetch API에 대해 학습하였다.
    - Promise Chaining을 통해 .then()가 반복되는 코드를 대신할 async-await에 대해 학습할 예정이다.
<br/>

### 1. Promise Chaining을 이용한 코드
- async-await을 사용하기에 앞서, Promise Chaining을 사용했을 때의 효용에 대해 설명할 것이다.
#### [결과 1-1]은 [코드 1-1]과 [코드 1-2]에 대한 출력 결과이다.
#### [코드 1-1]
```javascript
function timer(time) {
    return new Promise(resolve => {
        setTimeout(() => {
            resolve(time);
        }, time);
    });
}
```
#### [코드 1-2]
```javascript
console.log('start');

timer(1000)                     // 1 - Promise
.then((time) => {               // 1 - then
    console.log(`time: ${time/1000}초 경과`);
    return timer(time + 1000);  // 2 - Promise
}).then((time) => {             // 2 - then
    console.log(`time: ${time/1000}초 경과`);
    return timer(time + 1000);  // 3 - Promise
}).then((time) => {             // 3 - then
    console.log(`time: ${time/1000}초 경과`);
    return timer(time + 1000);  // 4 - Promise
}).then((time) => {             // 4 - then
    console.log(`time: ${time/1000}초 경과`);
});

console.log('end');
```
#### [결과 1-1]
```plaintext
start
end
time: 1초 경과
time: 2초 경과
time: 3초 경과
time: 4초 경과
```
#### --> [결과 1-1]에서 'end'가 제일 마지막이 아닌 'start' 바로 다음에 출력되는 것을 확인할 수 있다.
<br/>

#### [코드 1-2]를 [코드 1-3]으로 수정하였다.
#### [결과 1-2]는 [코드 1-1]과 [코드 1-3]에 대한 출력 결과이다.
#### [코드 1-3]
```javascript
console.log('start');

timer(1000)                     // 1 - Promise
.then((time) => {               // 1 - then
    console.log(`time: ${time/1000}초 경과`);
    return timer(time + 1000);  // 2 - Promise
}).then((time) => {             // 2 - then
    console.log(`time: ${time/1000}초 경과`);
    return timer(time + 1000);  // 3 - Promise
}).then((time) => {             // 3 - then
    console.log(`time: ${time/1000}초 경과`);
    return timer(time + 1000);  // 4 - Promise
}).then((time) => {             // 4 - then
    console.log(`time: ${time/1000}초 경과`);
    console.log('end');
});
```
#### [결과 1-2]
```plaintext
start
time: 1초 경과
time: 2초 경과
time: 3초 경과
time: 4초 경과
end
```
#### -> console.log('end');을 then() 메서드 내부에 넣었더니 'end'가 마지막에 출력되었다.
<br/>

### 2. async-await을 이용한 코드
